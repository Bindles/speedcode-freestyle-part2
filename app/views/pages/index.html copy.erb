<% if @error %>
  <p class="alert alert-danger"><%= @error %></p>
<% else %>
  <h1>Products</h1>
  <ul>
    <% @products.each do |product| %>
      <li>
        <h2><%= product["title"] %></h2>
        <p>Vendor: <%= product["vendor"] %></p>
        <p>Price: $<%= product["variants"].first["price"] %></p>
        <ul>
          <% product["variants"].each do |variant| %>
            <li>
              <strong><%= variant["title"] %></strong> - $<%= variant["price"] %>
              <% if variant["available"] %>
                <span style="color: green;">(In Stock)</span>
              <% else %>
                <span style="color: red;">(Out of Stock)</span>
              <% end %>
            </li>
          <% end %>
        </ul>
      </li>
    <% end %>
  </ul>
<% end %>
